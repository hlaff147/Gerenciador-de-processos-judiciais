<div class="signup-container mt-4">
  <p class="fs-2 mb-3">Bem-vindo!</p>
  <form class="signup-form container">
    <mat-form-field class="full-width">
      <input
        matInput
        name="name"
        placeholder="Nome"
        [formControl]="name"
        [errorStateMatcher]="matcher"
        type="text"
        pattern="[a-zA-z ]*"
        required
      />
      <mat-hint></mat-hint>
      <mat-error *ngIf="name.errors?.['required']" data-error="name-missing">
        Nome é obrigatório.
      </mat-error>
      <mat-error
        *ngIf="name.errors?.['pattern'] && !name.errors?.['required']"
        data-error="name-numbers"
      >
        Nome deve conter apenas letras.
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width">
      <input
        matInput
        name="cpf"
        placeholder="CPF"
        [formControl]="cpf"
        [errorStateMatcher]="matcher"
        type="text"
        minlength="11"
        maxlength="14"
        pattern="\d+"
        mask="000.000.000-00"
        required
      />
      <mat-hint></mat-hint>
      <mat-error *ngIf="cpf.errors?.['required']" data-error="cpf-missing">
        CPF é obrigatório.
      </mat-error>
      <mat-error
        *ngIf="cpf.errors?.['pattern'] && !cpf.errors?.['required']"
        data-error="cpf-letters"
      >
        CPF deve conter apenas números.
      </mat-error>
      <mat-error
        *ngIf="(cpf.errors?.['minlength'] || cpf.errors?.['maxlength']) && !cpf.errors?.['pattern'] && !cpf.errors?.['required']"
        data-error="cpf-length"
      >
        CPF deve conter 11 dígitos.
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width">
      <input
        matInput
        name="email"
        placeholder="E-mail"
        [formControl]="email"
        [errorStateMatcher]="matcher"
        type="text"
        email
        required
      />
      <mat-hint></mat-hint>
      <mat-error *ngIf="email.errors?.['required']" data-error="email-missing">
        E-mail é obrigatório.
      </mat-error>
      <mat-error
        *ngIf="email.errors?.['email'] && !email.errors?.['required']"
        data-error="email-format"
      >
        Por favor, entre um e-mail válido.
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width">
      <input
        matInput
        name="phone"
        placeholder="Telefone"
        [formControl]="phone"
        [errorStateMatcher]="matcher"
        type="text"
        pattern="\d+"
        minlength="9"
        maxlength="9"
        required
      />
      <mat-hint></mat-hint>
      <mat-error *ngIf="phone.errors?.['required']" data-error="phone-missing">
        Telefone é obrigatório.
      </mat-error>
      <mat-error
        *ngIf="phone.errors?.['pattern'] && !phone.errors?.['required']"
        data-error="phone-letters"
      >
        Telefine deve conter apenas números.
      </mat-error>
      <mat-error
        *ngIf="(phone.errors?.['minlength'] || phone.errors?.['maxlength']) && !phone.errors?.['pattern'] && !phone.errors?.['required']"
        data-error="phone-length"
      >
        Telefone deve ter 9 dígitos.
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width">
      <mat-select
        placeholder="Função"
        name="function"
        [formControl]="function"
        [errorStateMatcher]="matcher"
        required
      >
        <mat-option></mat-option>
        <mat-option *ngFor="let function of functions" [value]="function">
          {{ function | titlecase }}
        </mat-option>
      </mat-select>
      <mat-hint></mat-hint>
      <mat-error *ngIf="function.value == ''" data-error="function-missing">
        Escolha uma função.
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width">
      <input
        matInput
        name="password"
        placeholder="Senha"
        [formControl]="password"
        [errorStateMatcher]="matcher"
        type="text"
        required
      />
      <mat-hint></mat-hint>
      <mat-error
        *ngIf="password.errors?.['required']"
        data-error="password-missing"
      >
        Senha é obrigatória.
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width">
      <input
        matInput
        name="conf-password"
        placeholder="Senha de confirmação"
        [formControl]="confPassword"
        [errorStateMatcher]="matcher"
        type="text"
        required
      />
      <mat-hint></mat-hint>
      <mat-error
        *ngIf="confPassword.errors?.['required']"
        data-error="conf-password-missing"
      >
        Senha de confirmação é obrigatória.
      </mat-error>
    </mat-form-field>

    <button
      class="mt-3"
      style="width: 60%"
      mat-flat-button
      type="submit"
      data-btn="signup"
      color="primary"
      (click)="signupUser()"
    >
      Registrar-se
    </button>
  </form>
</div>
