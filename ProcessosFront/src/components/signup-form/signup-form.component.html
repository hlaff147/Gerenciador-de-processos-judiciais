<div class="signup-container">
  <p class="fs-2 mb-3">Bem-vindo!</p>
  <form class="signup-form">
    <mat-form-field class="full-width">
      <input
        matInput
        placeholder="Nome"
        [formControl]="name"
        [errorStateMatcher]="matcher"
        type="text"
        pattern="[a-zA-z ]*"
        required
      />
      <mat-hint></mat-hint>
      <mat-error *ngIf="name.errors?.['required']">
        Nome é obrigatório.
      </mat-error>
      <mat-error *ngIf="name.errors?.['pattern'] && !name.errors?.['required']">
        Nome deve conter apenas letras.
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width">
      <input
        matInput
        placeholder="CPF"
        [formControl]="cpf"
        [errorStateMatcher]="matcher"
        type="text"
        minlength="11"
        maxlength="11"
        pattern="\d+"
        required
      />
      <mat-hint></mat-hint>
      <mat-error *ngIf="cpf.errors?.['required']">
        CPF é obrigatório.
      </mat-error>
      <mat-error *ngIf="cpf.errors?.['pattern'] && !cpf.errors?.['required']">
        CPF deve conter apenas números.
      </mat-error>
      <mat-error
        *ngIf="(cpf.errors?.['minlength'] || cpf.errors?.['maxlength']) && !cpf.errors?.['pattern'] && !cpf.errors?.['required']"
      >
        CPF deve conter 11 dígitos.
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width">
      <input
        matInput
        placeholder="E-mail"
        [formControl]="email"
        [errorStateMatcher]="matcher"
        type="text"
        email
        required
      />
      <mat-hint></mat-hint>
      <mat-error *ngIf="email.errors?.['required']">
        E-mail é obrigatório.
      </mat-error>
      <mat-error *ngIf="email.errors?.['email'] && !email.errors?.['required']">
        Por favor, entre um e-mail válido.
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width">
      <input
        matInput
        placeholder="Telefone"
        [formControl]="phone"
        [errorStateMatcher]="matcher"
        type="text"
        pattern="\d+"
        minlength="9"
        maxlength="9"
        required
      />
      <mat-hint></mat-hint>
      <mat-error *ngIf="phone.errors?.['required']">
        Telefone é obrigatório.
      </mat-error>
      <mat-error
        *ngIf="phone.errors?.['pattern'] && !phone.errors?.['required']"
      >
        Telefine deve conter apenas números.
      </mat-error>
      <mat-error
        *ngIf="(phone.errors?.['minlength'] || phone.errors?.['maxlength']) && !phone.errors?.['pattern'] && !phone.errors?.['required']"
      >
        Telefone deve ter 9 dígitos.
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width">
      <mat-select
        placeholder="Função"
        [formControl]="function"
        [errorStateMatcher]="matcher"
        required
      >
        <mat-option></mat-option>
        <mat-option *ngFor="let function of functions" [value]="function">
          {{ function | titlecase }}
        </mat-option>
      </mat-select>
      <mat-hint></mat-hint>
      <mat-error *nfIg="function.errors?.['required']">
        Função é obrigatório.
      </mat-error>
      <mat-error *ngIf="function.value == ''"> Escolha uma função. </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width">
      <input
        matInput
        placeholder="Senha"
        [formControl]="password"
        [errorStateMatcher]="matcher"
        type="text"
        required
      />
      <mat-hint></mat-hint>
      <mat-error *ngIf="password.errors?.['required']">
        Senha é obrigatória.
      </mat-error>
    </mat-form-field>

    <mat-form-field class="full-width">
      <input
        matInput
        placeholder="Senha de confirmação"
        [formControl]="confPassword"
        [errorStateMatcher]="matcher"
        type="text"
        required
      />
      <mat-hint></mat-hint>
      <mat-error *ngIf="confPassword.errors?.['required']">
        Senha de confirmação é obrigatória.
      </mat-error>
    </mat-form-field>

    <button
      class="mt-3"
      style="width: 60%"
      mat-flat-button
      type="submit"
      data-cy="signup-btn"
      color="primary"
      (click)="signupUser()"
    >
      Registrar-se
    </button>
  </form>
</div>
